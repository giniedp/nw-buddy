<nwb-detail-drawer class="hidden lg:block lg:w-[500px]">
  <div *nwbDetailDrawerContent class="layout-content bg-base-200 layout-pad">
    <div class="rounded-md overflow-clip">
      <nwb-item-header class="gap-2">
        <a [nwbItemIcon]="icon" [nwLink]="data()?.NPCId" [nwLinkResource]="'npc'" class="w-[76px] h-[76px]"> </a>
        <nwb-item-header-content
          class="z-10"
          [title]="data()?.GenericName | nwText | nwTextBreak: ' - '"
          [text1]="'NPC'"
          [text2]="data()?.Title | nwText | nwTextBreak: ' - '"
        />
      </nwb-item-header>
      <div class="bg-black">
        @if (models()) {
          @if (viewerActive) {
            <nwb-model-viewer [models]="models()" class="aspect-square" />
          }
          <div class="p-4">
            <button
              class="btn btn-xs flex-1 btn-outline btn-ghost rounded-md opacity-50 w-full"
              (click)="viewerActive = !viewerActive"
            >
              {{ viewerActive ? 'Close' : 'View 3D Model' }}
            </button>
          </div>
        }
      </div>
    </div>
  </div>
</nwb-detail-drawer>
