<ion-header class="bg-base-300">
  <div class="h-12 flex items-center justify-center">
    <a [routerLink]="'/character'">
      <nwb-character-avatar [character]="character.record()" />
    </a>
  </div>
</ion-header>
<ion-content>
  <div class="flex flex-col items-center justify-center gap-2 absolute top-0 left-0 right-0 z-10 p-4 pointer-events-none">
    <div class="flex justify-center pointer-events-auto">
      @if (stats$ | async; as stat) {
        <div class="stats self-center backdrop-blur-lg bg-base-200/30 border-1 border-base-200">
          <div class="stat place-items-center">
            <div class="stat-title">Learned Music Sheets</div>
            <div class="stat-value text-primary">{{ stat.learned }} / {{ stat.total }}</div>
            <div class="stat-desc italic">
              Any
              <span class="inline-block w-3 h-3 mask mask-star-2 bg-orange-400"></span>
              <span class="inline-block w-3 h-3 mask mask-star-2 bg-yellow-400"></span>
              <span class="inline-block w-3 h-3 mask mask-star-2 bg-green-400"></span>
              marks the music sheet as "learned"
            </div>

            <div class="tabs tabs-border flex-nowrap overflow-x-auto p-2">
              <a
                class="tab"
                [routerLink]="['./']"
                [routerLinkActive]="'tab-active'"
                [routerLinkActiveOptions]="{ exact: true }"
              >
                All
              </a>
              <ng-container *ngFor="let category of service.categories$ | async">
                <a class="tab" [routerLink]="[category.id]" [routerLinkActive]="'tab-active'">
                  {{ category.label | nwHumanize }}
                </a>
              </ng-container>
            </div>
          </div>
        </div>
      }
    </div>
  </div>

  <router-outlet />
</ion-content>
